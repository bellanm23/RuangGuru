<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <title>My Calculator</title>
    <style>
      html,
      body {
        height: 100%;
      }
      button {
        width: 45px;
        margin: 2px;
      }
      #app {
        height: 100%;
        padding: 0;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- <input type="button" id="buttonNumber" onclick="setNumber(this)" value="7"> -->
      <table>
        <tbody>
          <tr>
            <td colspan="4">
              <input type="text" id="display"/>
            </td>
          </tr>
          <tr>
            <td><button class="operator" onclick="operator('AC')">AC</button></td>
            <td><button class="operator" onclick="operator('Del')">Del</button></td>
            <td></td>
            <td><button class="operator" id="devide" onclick="setOperator(this)" value="/">/</button></td>
          </tr>
          <tr>
            <td><button id="num7" onclick="setNumber(this)" value="7">7</button></td>
            <td><button id="num8" onclick="setNumber(this)" value="8">8</button></td>
            <td><button id="num9" onclick="setNumber(this)" value="9">9</button></td>
            <td><button class="operator" id="multiply" onclick="setOperator(this)" value="*">x</button></td>
          </tr>
          <tr>
            <td><button id="num4" onclick="setNumber(this)" value="4">4</button></td>
            <td><button id="num5" onclick="setNumber(this)" value="5">5</button></td>
            <td><button id="num6" onclick="setNumber(this)" value="6">6</button></td>
            <td><button class="operator" id="minus" onclick="setOperator(this)" value="-">-</button></td>
          </tr>
          <tr>
            <td><button id="num1" onclick="setNumber(this)" value="1">1</button></td>
            <td><button id="num2" onclick="setNumber(this)" value="2">2</button></td>
            <td><button id="num3" onclick="setNumber(this)" value="3">3</button></td>
            <td><button class="operator" id="plus" onclick="setOperator(this)" value="+">+</button></td>
          </tr>
          <tr>
            <td></td>
            <td><button id="num0" onclick="setNumber(this)" value="0">0</button></td>
            <td><button id="dot" onclick="setNumber(this)" value=".">.</button></td>
            <td><button id="calc" onclick="calculate()">=</button></td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      let inputNumber = [];
      let inputOperator = [];

      let newCounting = true;

      //handle when the number is pressed. It renders the number into #input element
      function setNumber(button) {
        let num = button.value;
        document.getElementById('display').value += num;
      }

      //handle when the Del button, AC button,dot button and other operators (+, /, -, x) are pressed. It renders the operator into #input element
      function setOperator(operator) {
        let op = operator.value;
        document.getElementById('display').value += op;
      }

      //handle when = button is pressed. It renders the result into #input element
      function calculate() {
        // TODO: answer here
        let displayValue = document.getElementById('display').value;

        try {
          let result = eval(displayValue);
          document.getElementById('display').value = result;
        } catch (error) {
          document.getElementById('display').value = "Error";
        }
      }

      function clearCalculator(type) {
        if (type === 'AC') {
          document.getElementById('display').value = '';
        } else if (type === 'C') {
          let currentDisplay = document.getElementById('display').value;
          document.getElementById('display').value = currentDisplay.slice(0, -1);
        }
      }
    </script>
  </body>
</html>
